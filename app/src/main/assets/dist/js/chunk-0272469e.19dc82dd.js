(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0272469e"],{"0bde":function(t,n,a){},"2e64":function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("scroll",{ref:"scroll",staticClass:"scroll"},[a("div",{staticClass:"dance-music-album-detail"},[a("base-info",{attrs:{"base-info":t.album,"album-detail":t.albumDetail,cover:t.getAlbumCover},on:{playMusic:t.playMusic}}),a("song-list",{ref:"songList",attrs:{"music-list":t.musicList},on:{refresh:t.handleRefresh}})],1)])},i=[],s=a("6a93"),r=a("a3ee"),u=a("1bab");function o(t){return Object(u["a"])({url:"/album/detail/dynamic",params:{id:t}})}var c=a("8b7f"),l=a("5d17"),b=function(){var t=this,n=t.$createElement,a=t._self._c||n;return Object.keys(t.baseInfo).length?a("div",{staticClass:"base-info"},[a("div",{staticClass:"left"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.cover,expression:"cover"}],attrs:{alt:""}})]),a("div",{staticClass:"right"},[a("h3",[a("b-tag",{attrs:{color:"var(--main-color)",plain:""}},[t._v("专辑")]),t._v(" "+t._s(t.baseInfo.name)+" ")],1),a("div",{staticClass:"right-item"},[a("b-button",{staticClass:"button",style:{border:"none"},attrs:{background:"var(--main-color)",color:"#fff",round:""},on:{click:t.handlePlayMusic}},[a("i",{staticClass:"iconfont icon-bofang"}),t._v("播放全部 ")]),a("b-button",{staticClass:"button",attrs:{round:""}},[a("i",{staticClass:"iconfont icon-shoucang"}),t._v(" 收藏("+t._s(t.albumDetail.subCount)+") ")]),a("b-button",{staticClass:"button",attrs:{round:""}},[a("i",{staticClass:"iconfont icon-fenxiang"}),t._v(" 分享("+t._s(t.albumDetail.shareCount)+") ")])],1),a("div",{staticClass:"right-item"},[a("span",[t._v("歌手："+t._s(t.baseInfo.artist.name))])]),a("div",{staticClass:"right-item"},[a("span",[t._v("时间："+t._s(t.getCreateDate))])])])]):t._e()},f=[],d=(a("ab61"),a("6ce8"),a("e381"),a("8afb"),a("3de1")),m={name:"BaseInfo",props:{baseInfo:{type:Object,default:function(){return{}}},albumDetail:{type:Object,default:function(){return{}}},cover:{type:String,default:""}},computed:{getCreateDate:function(){return Object(d["b"])(new Date(this.baseInfo.publishTime),"yyyy-MM-dd")},getTags:function(){return this.baseInfo.tags&&this.baseInfo.tags.join("/")},getPlayCount:function(){return this.baseInfo.playCount&&this.baseInfo.playCount.toString().slice(0,2)+"万"}},methods:{handlePlayMusic:function(){this.$emit("playMusic")}}},h=m,g=(a("7bf8"),a("5d22")),p=Object(g["a"])(h,b,f,!1,null,"6988da47",null),v=p.exports,y=a("d8db"),C={name:"AlbumDetail",mixins:[c["a"]],components:{Scroll:l["a"],BaseInfo:v,SongList:y["a"]},data:function(){return{album:{},albumDetail:{},musicList:[]}},computed:{getAlbumCover:function(){if(this.musicList[0]&&this.musicList[0].pic)return this.musicList[0].pic}},created:function(){this.album=this.$route.query.album,this.getAlbumDetail(),this.getAlbumSongs()},methods:{handleRefresh:function(){this.$refs.scroll.refresh()},getAlbumDetail:function(){var t=this;o(this.album.id).then((function(n){t.albumDetail=n.data}))},getAlbumSongs:function(){var t=this;Object(r["a"])(this.album.id).then((function(n){var a=n.data.songs,e=function(n){Object(s["e"])(a[n].id).then((function(e){var i=new s["j"](e.data.songs);t.musicList.push(i),n==a.length-1&&t.$nextTick((function(){t.handleRefresh()}))}))};for(var i in a)e(i)}))}},watch:{$route:{handler:function(){this.$route.path.indexOf("album-detail")>0&&(this.album=this.$route.query.album,this.getAlbumDetail(),this.getAlbumSongs())},immediate:!0}}},j=C,O=(a("59b3"),Object(g["a"])(j,e,i,!1,null,"3e96280e",null));n["default"]=O.exports},"59b3":function(t,n,a){"use strict";a("bd06")},"7bf8":function(t,n,a){"use strict";a("0bde")},a3ee:function(t,n,a){"use strict";a.d(n,"c",(function(){return i})),a.d(n,"e",(function(){return s})),a.d(n,"b",(function(){return r})),a.d(n,"a",(function(){return u})),a.d(n,"d",(function(){return o})),a.d(n,"g",(function(){return c})),a.d(n,"f",(function(){return l}));var e=a("1bab");function i(t){return Object(e["a"])({url:"/artist/desc",params:{id:t}})}function s(t){return Object(e["a"])({url:"/artist/top/song",params:{id:t}})}function r(t){return Object(e["a"])({url:"/artist/album",params:{id:t}})}function u(t){return Object(e["a"])({url:"/album",params:{id:t}})}function o(t){return Object(e["a"])({url:"/artist/desc",params:{id:t}})}function c(t,n){return Object(e["a"])({url:"/simi/artist",params:{cookie:t,id:n}})}function l(t){return Object(e["a"])({url:"/artist/mv",params:{id:t}})}},ab61:function(t,n,a){"use strict";var e=a("1294"),i=a("c5e3"),s=a("c209"),r=a("e731"),u=[].join,o=i!=Object,c=r("join",",");e({target:"Array",proto:!0,forced:o||!c},{join:function(t){return u.call(s(this),void 0===t?",":t)}})},bd06:function(t,n,a){}}]);
//# sourceMappingURL=chunk-0272469e.19dc82dd.js.map